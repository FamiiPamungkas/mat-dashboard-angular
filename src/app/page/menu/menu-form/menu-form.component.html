<page-title [title]="title" [breadcrumbs]="breadcrumbs"/>
<div class="rounded-md p-4 m-4 bg-white shadow-md">
  <form [formGroup]="menuForm" (ngSubmit)="submit()">
    <div class="flex flex-col gap-2">
      <app-form-field label="Name" class="max-w-[300px]">
        <input appInput type="text" placeholder="Name" formControlName="name"/>
        <mat-error *ngIf="menuForm.get('name')?.hasError('required')">Name is required</mat-error>
      </app-form-field>
      <app-form-field label="Authority" class="max-w-[300px]">
        <input appInput type="text" placeholder="Authority" formControlName="authority"/>
        <mat-error *ngIf="menuForm.get('authority')?.hasError('required')">Authority is required</mat-error>
      </app-form-field>
      <app-form-field label="Group" class="max-w-[300px]">
        <input appInput type="text" placeholder="Group" formControlName="group"/>
        <mat-error *ngIf="menuForm.get('group')?.hasError('required')">Group is required</mat-error>
      </app-form-field>
      <app-form-field label="Link" class="max-w-[300px]">
        <input appInput type="text" placeholder="Link" formControlName="link"/>
        <mat-error *ngIf="menuForm.get('link')?.hasError('required')">Link is required</mat-error>
      </app-form-field>
      <app-form-field label="Parent" class="max-w-[300px]">
        <select appInput name="parent" id="parent" formControlName="parent">
          <option *ngFor="let opt of parentMenus" value="{{opt.key}}" [selected]="opt.selected">{{opt.value}}</option>
        </select>
      </app-form-field>

      <div class="flex gap-1 my-2">
        <span class="font-medium">Visible : </span>
        <mat-slide-toggle color="primary" formControlName="visible" (click)="toggleVisible()"><span class="select-none">{{menu.visible ? 'Yes':'No'}}</span></mat-slide-toggle>
      </div>
      <mat-divider inset="false" class="!my-2"></mat-divider>

      <section class="flex gap-2">
        <button mat-raised-button color="accent" type="button" (click)="back()">
          <mat-icon>arrow_back</mat-icon>Back
        </button>
        <button mat-raised-button color="primary" type="submit">Submit</button>
      </section>
    </div>
  </form>
</div>
